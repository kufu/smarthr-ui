import { fireEvent, within } from '@storybook/test'
import React from 'react'

import { Stack } from '../../Layout'
import { {{ name }} } from '../{{ name }}'

import type { StoryObj } from '@storybook/react'

export default {
  title: 'SomeCategory（カテゴリ）/{{ name }}/VRT',
  /* ペアワイズ法による網羅 */
  render: (args: any) => (
    <Stack {...args}>
      <{{ name }} />
      <{{ name }} />
    </Stack>
  ),
  parameters: {
    chromatic: { disableSnapshot: false },
  },
  tags: ['!autodocs'],
}

export const VRT = {}

export const VRTHover = {
  ...VRT,
  args: {
    id: 'hover',
  },
  parameters: {
    pseudo: {
      hover: ['#hover .smarthr-ui-{{ name }}'],
    },
    // MEMO: VRT として機能していないので、解決するまでスナップショットを無効化
    chromatic: { disableSnapshot: true },
  },
}

export const VRTKeyboardFocus: StoryObj = {
  ...VRT,
  play: async ({ canvasElement }) => {
    const canvas = within(canvasElement)
    // FIXME: ここにフォーカス処理を書いて
  },
}

export const VRTForcedColors: StoryObj = {
  ...VRT,
  parameters: {
    chromatic: { forcedColors: 'active' },
  },
}
